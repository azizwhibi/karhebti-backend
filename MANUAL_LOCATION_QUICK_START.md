# ğŸš€ Quick Start: Manual Location Selection

## What You Can Do Now

### âœ… Your SOS Screen Already Has This Feature!

The manual location selection is **already working** in your app. Here's how to use it:

---

## ğŸ¯ 3 Simple Steps

### 1ï¸âƒ£ Open SOS Screen
- Go to the SOS assistance screen
- Wait for GPS to load (or grant location permission)

### 2ï¸âƒ£ Tap Anywhere on the Map
- Simply **tap on the map** where you want to select your position
- The red marker will jump to that location
- Coordinates will update automatically

### 3ï¸âƒ£ Send Your Request
- Fill in the breakdown type
- Click "Envoyer la demande SOS"
- Your selected position is sent!

---

## ğŸ¨ Visual Guide

### Before Tapping (GPS Mode)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ Position GPS actuelle       â”‚  â† BLUE CARD
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 â”‚
â”‚     [   MAP WITH YOUR GPS   ]   â”‚
â”‚              ğŸ”´                 â”‚  â† Red marker at your GPS location
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Status:**
- Blue indicator = Using GPS
- Marker title = "Votre position GPS"

---

### After Tapping (Manual Mode)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘† Appuyez sur la carte pour   â”‚  â† PURPLE CARD
â”‚     choisir votre position      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 â”‚
â”‚     [   MAP WITH YOUR TAP   ]   â”‚
â”‚                    ğŸ”´           â”‚  â† Red marker at tapped location
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Status:**
- Purple indicator = Manual selection
- Marker title = "Position choisie"
- Coordinates = Updated to tapped location

---

## ğŸ”„ How to Return to GPS

Click the **refresh button** (ğŸ”„) next to the coordinates:

```
ğŸ“ Lat: 37.4220, Lon: -122.0840  [ğŸ”„]
                                   â†‘
                              Click here
```

This will:
- âœ… Fetch your current GPS position again
- âœ… Change back to blue indicator
- âœ… Update marker to GPS location

---

## ğŸ’¡ When to Use Manual Selection

| Situation | Solution |
|-----------|----------|
| **GPS shows wrong location** | Tap on the correct spot on map |
| **Calling for someone else** | Tap where they are located |
| **Want to meet at landmark** | Tap on gas station, parking lot, etc. |
| **GPS not working well (indoors)** | Tap on map to choose your building |
| **Need precise position** | Zoom in and tap exactly where you are |

---

## ğŸ¬ Example Scenario

**You're on Highway A1, but GPS shows you on a parallel street:**

1. You see the map with blue indicator
2. You zoom in on the map to see Highway A1
3. You tap directly on the highway where you are
4. Marker moves to Highway A1 âœ…
5. Purple indicator appears
6. You fill in "PNEU" as breakdown type
7. You click "Envoyer la demande SOS"
8. Done! Technician gets the correct highway location ğŸ‰

---

## âš¡ Pro Tips

### Tip 1: Zoom First
```
Use two fingers to zoom in before tapping
â†’ More accurate selection
â†’ Can see street names and landmarks
```

### Tip 2: Multiple Taps OK
```
Tap anywhere multiple times
â†’ Each tap updates the position
â†’ Last tap is the one that counts
```

### Tip 3: Use Landmarks
```
Tap on recognizable spots:
- Gas stations â›½
- Shopping centers ğŸª
- Highway exits ğŸ›£ï¸
- Intersections ğŸš¦
```

### Tip 4: Refresh Anytime
```
Made a mistake?
â†’ Click refresh button (ğŸ”„)
â†’ Returns to GPS position
â†’ Start over
```

---

## ğŸ“± What You See vs What Happens

### What You See:
1. Blue card â†’ "Position GPS actuelle"
2. Tap on map â†’ **Immediate response**
3. Purple card â†’ "Appuyez sur la carte..."
4. Marker moves â†’ New position
5. Coordinates update â†’ New lat/lon

### What Happens in the Background:
1. Map detects your tap
2. Converts screen coordinates to latitude/longitude
3. Updates marker position
4. Triggers callback to update state
5. Changes `isManualLocation` to `true`
6. UI reflects the change (blue â†’ purple)
7. Ready to send SOS with selected position!

---

## ğŸ¯ Color Coding

| Color | Mode | Icon | Meaning |
|-------|------|------|---------|
| ğŸ”µ Blue | GPS | ğŸ“ GPS Fixed | Using automatic GPS position |
| ğŸŸ£ Purple | Manual | ğŸ‘† Touch | Using manually selected position |

---

## âœ… Checklist: Is It Working?

Test the feature:

- [ ] Open SOS screen
- [ ] See blue indicator "Position GPS actuelle"
- [ ] See map with red marker
- [ ] Tap somewhere else on the map
- [ ] Marker moves to tapped location? âœ…
- [ ] Indicator changes to purple? âœ…
- [ ] Text changes to "Appuyez sur la carte..."? âœ…
- [ ] Coordinates update? âœ…
- [ ] Click refresh button (ğŸ”„)
- [ ] Returns to blue indicator? âœ…
- [ ] Marker returns to GPS position? âœ…

**If all checkboxes are âœ…, the feature is working perfectly!**

---

## ğŸ†˜ Troubleshooting

### Issue: "I tap but nothing happens"

**Solutions:**
1. Make sure you're tapping on the map area (the gray/green area with streets)
2. Don't tap on the indicator card at the top
3. Don't tap on the coordinates at the bottom
4. Tap directly on the map view itself

### Issue: "The marker doesn't move"

**Solutions:**
1. Restart the app
2. Check if the map has fully loaded (can you see streets?)
3. Try tapping a different spot
4. Make sure you're not zoomed out too far

### Issue: "I can't find the refresh button"

**Look here:**
```
ğŸ“ Lat: 37.4220, Lon: -122.0840  [ğŸ”„]
                                   â†‘
                            Right here!
```

---

## ğŸ“ Summary

**The feature is ready and working!**

Just remember:
- ğŸ‘† **Tap map** = Manual selection (purple)
- ğŸ”„ **Click refresh** = Back to GPS (blue)
- ğŸ“ **Current position** = Always shown in coordinates

**No configuration needed. No settings to change. Just tap and go!**

---

## ğŸ“– Need More Info?

See the complete guide: [HOW_TO_USE_MANUAL_LOCATION.md](./HOW_TO_USE_MANUAL_LOCATION.md)

---

*Feature Status: âœ… Working*  
*Last Updated: December 5, 2025*
